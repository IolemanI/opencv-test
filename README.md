# Face recognition system for smart office. 
========

Изначально идея заключается в том, что бы распознавать лицо, кидать его на сервер и там уже делать полное распознавание по сотрудникам. 

## 1
--------

Начать стоит из файлов `face_opencv_stream.py` и `face_opencv_imutils_stream.py`. Они нужны для создания датасетов, функционал по сути одинаковый, но более удобно использовать `face_opencv_imutils_stream.py`, так как он плавнее и фото создаются по нажатию кнопки `k`.
Данные файлы планируются для создания датасетов сотрудниками. Для коректной работы необходимо иметь хотя бы по 10 (?) изображений на каждого.

Из наблюдений.. Вряд ли распознавание на OpenCV будет хорошо работать на RasberryPI, так как оно жрет CPU. 

## 2
--------

Интересно, на что способна OpenCV. Решил попробовать распознавание на OpenCV. 

Как обучить и запустить face detection? 
[статья1](https://www.pyimagesearch.com/2018/09/24/opencv-face-recognition/)
[статья2](https://www.pyimagesearch.com/2017/04/03/facial-landmarks-dlib-opencv-python/)

1) Создать папку в `dataset/` с именем пользователя. Имя папки это и есть имя пользователя, которое будет отображаться на экране.

2) Запустить файл `face_opencv_imutils_stream.py`, который поможет создать dataset. Обязательно нужно указать папку пользователя в которую запишется dataset.

3) Запустить файл `opencv-recognition/extract_embeddings.py`. В кратце: он обработает и запишет датасет всех пользователей в директорию `opencv-recognition/output`.  

4) Запустить файл `opencv-recognition/train_model.py`. После обучения, запустить `opencv-recognition/recognize_video.py`.

Все работает отлично, для распознавания на 90% - 100% желательно иметь датасет из 50+ картинок. Но как минус стоит отметить, что оно жрет много ресурсов.
Исходя из результатов, есть 2 варианта продолжения: 
- распознавать только лишь лица, и кидать запрос на сервер для детального распознавания персоны. 
- испытать и попробовать оптимизировать данную систему для RasberryPI, что бы сама расбери не сгорела от нагрузки. 
